# Strapi CMS для сайта стабилизации грунтов

Это Strapi CMS для управления контентом сайта компании по стабилизации грунтов.

## Установка и запуск

1. Установите зависимости:
```bash
cd strapi
npm install
```

2. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

3. Запустите Strapi в режиме разработки:
```bash
npm run develop
```

4. Откройте админ-панель: http://localhost:1337/admin

## Структура контента

### Коллекции

1. **Технологии** (`technologies`)
   - Название
   - Описание
   - Подробный контент
   - Иконка
   - Изображение
   - SEO данные

2. **Проекты** (`projects`)
   - Название
   - Описание
   - Подробный контент
   - Местоположение
   - Статус (планируется/в процессе/завершен)
   - Даты начала и окончания
   - Изображения (основное + галерея)
   - Связанные технологии
   - SEO данные

3. **Статьи** (`articles`)
   - Заголовок
   - Описание
   - Контент
   - Автор
   - Время чтения
   - Теги
   - Изображение
   - SEO данные

4. **Техника** (`equipment`)
   - Название
   - Описание
   - Подробный контент
   - Категория
   - Цена за день/час
   - Доступность
   - Технические характеристики
   - Особенности
   - Изображения (основное + галерея)
   - SEO данные

### Компоненты

1. **SEO** (`shared.seo`)
   - Meta заголовок
   - Meta описание
   - Ключевые слова
   - Meta изображение
   - Canonical URL

2. **Технические характеристики** (`equipment.specifications`)
   - Мощность
   - Вес
   - Рабочая ширина
   - Производительность
   - Расход топлива
   - Максимальная глубина
   - Габариты

## API Endpoints

- GET `/api/technologies` - Все технологии
- GET `/api/technologies/:id` - Технология по ID
- GET `/api/projects` - Все проекты
- GET `/api/projects/:id` - Проект по ID
- GET `/api/articles` - Все статьи
- GET `/api/articles/:id` - Статья по ID
- GET `/api/equipment` - Вся техника
- GET `/api/equipment/:id` - Техника по ID

## Фильтрация и сортировка

Примеры запросов:

```javascript
// Получить рекомендуемые технологии
GET /api/technologies?filters[featured][$eq]=true

// Получить проекты по статусу
GET /api/projects?filters[status][$eq]=завершен

// Получить доступную технику
GET /api/equipment?filters[available][$eq]=true

// Сортировка статей по дате
GET /api/articles?sort=createdAt:desc

// Пагинация
GET /api/articles?pagination[page]=1&pagination[pageSize]=6
```

## Настройка в продакшене

1. Настройте базу данных (PostgreSQL/MySQL)
2. Установите переменные окружения
3. Запустите сборку: `npm run build`
4. Запустите в продакшене: `npm start`

## Интеграция с Astro

Для интеграции с Astro используйте файл `src/lib/strapi.ts`, который содержит готовые функции для работы с API.